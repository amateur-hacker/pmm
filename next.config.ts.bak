import type { NextConfig } from "next";
import withPWA, { type PWAConfig } from "next-pwa";

type Config = NextConfig & PWAConfig;
const config: Config = {
  reactStrictMode: false,
  reactCompiler: true,
  devIndicators: false,
  allowedDevOrigins: ["192.168.1.40"],

  images: {
    remotePatterns: [
      {
        protocol: "https",
        hostname: "picsum.photos",
      },
    ],
    unoptimized: true,
  },

  experimental: {
    serverComponentsExternalPackages: ["sharp", "libvips"],
    turbopackFileSystemCacheForDev: true,
  },

  dest: "public",
};

export default withPWA(config);
